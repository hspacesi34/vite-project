<!doctype html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/src/style.css">
  <title>Le√ßon : API et Fetch</title>
</head>

<body class="min-h-screen">
  <div class="drawer min-h-screen">
    <input id="drawer-toggle" type="checkbox" class="drawer-toggle" />
    <div class="drawer-content flex flex-col min-h-screen">
      <!-- Navbar -->
      <div id="navbar"></div>

      <!-- Main Content -->
      <main class="flex-1 container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8">
        <!-- En-t√™te -->
        <h1 class="text-4xl font-bold mb-4">D√©couvrir les API avec JavaScript</h1>
        <p class="text-lg text-base-content/70 max-w-2xl mb-6">
          Apprenez √† utiliser <span class="font-semibold">Fetch API</span> pour r√©cup√©rer des donn√©es depuis un serveur. 
          Nous allons explorer <code>then() / catch()</code> et <code>async / await</code>.
        </p>

        <!-- Section : Introduction -->
        <div class="card bg-base-100 shadow-xl mb-6">
          <div class="card-body">
            <h2 class="card-title">Qu‚Äôest-ce qu‚Äôune API ?</h2>
            <p>
              Une API (Application Programming Interface) permet √† votre application de communiquer avec des services externes 
              (par exemple : m√©t√©o, films, bases de donn√©es).
            </p>
          </div>
        </div>

        <!-- Section : Exemple Fetch -->
        <div class="card bg-base-200 shadow-lg mb-6">
          <div class="card-body">
            <h2 class="card-title">Exemple simple avec Fetch</h2>
            <p>
              Voici comment r√©cup√©rer des donn√©es avec <code>fetch()</code> et traiter la r√©ponse avec 
              <code>.then()</code> et <code>.catch()</code>.
            </p>
            <pre class="mockup-code"><code>
// Exemple avec then() / catch()
fetch("https://jsonplaceholder.typicode.com/posts/1")
  .then(response => response.json())
  .then(data => {
    console.log("Post r√©cup√©r√© :", data);
  })
  .catch(error => {
    console.error("Erreur :", error);
  });
            </code></pre>
          </div>
        </div>

        <!-- Section : Exemple async/await -->
        <div class="card bg-primary text-primary-content shadow-xl mb-6">
          <div class="card-body">
            <h2 class="card-title">Avec async / await</h2>
            <p>
              Utiliser <code>async/await</code> rend le code plus lisible et proche du style synchrone.
            </p>
            <pre class="mockup-code"><code>
// Exemple avec async/await
async function getPost() {
  try {
    const response = await fetch("https://jsonplaceholder.typicode.com/posts/1");
    const data = await response.json();
    console.log("Post r√©cup√©r√© :", data);
  } catch (error) {
    console.error("Erreur :", error);
  }
}

getPost();
            </code></pre>
          </div>
        </div>

        <!-- Section : Exercice -->
        <div class="card bg-accent text-accent-content shadow-lg">
          <div class="card-body">
            <h2 class="card-title">üöÄ Exercice pratique</h2>
            <p>
              R√©cup√©rez une liste d‚Äôutilisateurs depuis l‚ÄôAPI publique 
              <a href="https://jsonplaceholder.typicode.com/users" class="link">JSONPlaceholder</a>.  
              Affichez leur nom et email dans une liste HTML.
            </p>
          </div>
        </div>

      </main>

      <!-- Footer -->
      <div id="footer"></div>
    </div>
  </div>
  <script type="module" src="/src/components/footer.js"></script>
  <script type="module" src="/src/components/navbar.js"></script>
</body>

</html>
