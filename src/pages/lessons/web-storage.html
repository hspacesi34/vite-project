<!doctype html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/src/style.css">
    <title>Les Storages : localStorage, sessionStorage et Cookies | Jefff303.js</title>
</head>

<body class="min-h-screen bg-base-200">
    <div class="drawer min-h-screen">
        <input id="drawer-toggle" type="checkbox" class="drawer-toggle" />
        <div class="drawer-content flex flex-col min-h-screen">

            <div id="navbar"></div>

            <main class="flex-1 container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-10">

                <section class="text-center mb-10">
                    <h1 class="text-4xl font-bold mb-4">Les Storages : localStorage, sessionStorage et Cookies</h1>
                    <p class="text-lg text-base-content/70 max-w-2xl mx-auto">
                        La gestion des donn√©es c√¥t√© client est essentielle pour stocker des informations de mani√®re
                        persistante ou temporaire dans le navigateur de l'utilisateur. Chaque m√©thode a un cas
                        d'utilisation sp√©cifique.
                    </p>
                </section>

                <section class="mb-12">
                    <div class="card bg-base-100 shadow-xl">
                        <div class="card-body">
                            <h2 class="card-title text-2xl">üëâ `localStorage`</h2>
                            <p class="mb-4">
                                Le `localStorage` permet de stocker des paires cl√©-valeur de mani√®re **persistante**,
                                m√™me si l'utilisateur ferme son navigateur. Les donn√©es sont stock√©es sous forme de
                                cha√Ænes de caract√®res (`string`).
                            </p>
                            <pre class="mockup-code text-left">
                <code>
// Stocker des donn√©es
localStorage.setItem('nom', 'Alice');
localStorage.setItem('theme', 'dark');

// R√©cup√©rer des donn√©es
const nomUtilisateur = localStorage.getItem('nom');
console.log(nomUtilisateur); // 'Alice'

// Supprimer une donn√©e
localStorage.removeItem('theme');

// Vider tout le localStorage
// localStorage.clear();

// Attention : les objets doivent √™tre JSON.stringify
const utilisateur = { id: 1, pseudo: 'Bob' };
localStorage.setItem('user', JSON.stringify(utilisateur));

const userRecupere = JSON.parse(localStorage.getItem('user'));
console.log(userRecupere.pseudo); // 'Bob'
                </code>
              </pre>
                        </div>
                    </div>
                </section>

                <section class="mb-12">
                    <div class="card bg-primary text-primary-content shadow-lg">
                        <div class="card-body">
                            <h2 class="card-title text-2xl">‚ö° `sessionStorage` et les Cookies</h2>
                            <div class="space-y-6">
                                <div>
                                    <h3 class="font-bold text-lg mb-2">`sessionStorage`</h3>
                                    <p>
                                        Similaire au `localStorage`, mais les donn√©es sont **temporaires**. Elles sont
                                        effac√©es lorsque l'onglet ou la fen√™tre du navigateur est ferm√©. Id√©al pour des
                                        donn√©es de session (ex: formulaires temporaires).
                                    </p>
                                    <pre class="mockup-code text-left">
                    <code>
// Les m√™mes m√©thodes que localStorage
sessionStorage.setItem('statut', 'en cours');
const statut = sessionStorage.getItem('statut');
console.log(statut); // 'en cours'
                    </code>
                  </pre>
                                </div>

                                <div>
                                    <h3 class="font-bold text-lg mb-2">Cookies</h3>
                                    <p>
                                        Les cookies sont de petits fichiers texte qui stockent des donn√©es c√¥t√© client
                                        et sont envoy√©s au serveur avec chaque requ√™te HTTP. Ils sont souvent utilis√©s
                                        pour l'authentification et les pr√©f√©rences.
                                    </p>
                                    <pre class="mockup-code text-left">
                    <code>
// G√©rer les cookies en JavaScript pur est complexe
document.cookie = "token=12345; expires=Thu, 18 Dec 2025 12:00:00 UTC";

// C'est pourquoi on pr√©f√®re souvent des librairies ou des frameworks
// qui les g√®rent automatiquement pour des cas d'utilisation sp√©cifiques.
                    </code>
                  </pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="mb-12">
                    <div class="card bg-base-100 shadow-lg">
                        <div class="card-body">
                            <h2 class="card-title text-2xl">üå± Gestion d'√©tat avanc√©e : Pinia</h2>
                            <p class="mb-4">
                                Pour les applications web complexes (en particulier avec des frameworks comme Vue.js),
                                `localStorage` et `sessionStorage` peuvent devenir difficiles √† g√©rer. Une librairie de
                                gestion d'√©tat comme **Pinia** (pour Vue) centralise les donn√©es, offrant une approche
                                plus structur√©e et r√©active.
                            </p>
                            <pre class="mockup-code text-left">
                <code>
// Exemple d'un "store" Pinia (simplifi√©)
import { defineStore } from 'pinia';

export const useUserStore = defineStore('user', {
  state: () => ({
    nom: 'Invit√©e',
    estConnecte: false
  }),
  actions: {
    seConnecter(nouveauNom) {
      this.nom = nouveauNom;
      this.estConnecte = true;
    }
  }
});

// Dans un composant
// import { useUserStore } from './stores/user';
// const user = useUserStore();
// user.seConnecter('Alice');
                </code>
              </pre>
                            <p class="mt-4 text-sm opacity-80">
                                L'utilisation de librairies comme Pinia est recommand√©e pour les applications √† grande
                                √©chelle, car elles facilitent la synchronisation des donn√©es entre les diff√©rents
                                composants.
                            </p>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="card bg-neutral text-neutral-content shadow-xl">
                        <div class="card-body">
                            <h2 class="card-title text-2xl">‚úÖ Bonnes pratiques</h2>
                            <ul class="list-disc list-inside space-y-2 mt-3">
                                <li>Ne stockez **jamais de donn√©es sensibles** (mot de passe, jeton d'authentification)
                                    dans le `localStorage` car il est accessible via le JavaScript de la page.</li>
                                <li>Utilisez `localStorage` pour des donn√©es qui doivent persister (pr√©f√©rences, th√®me,
                                    √©tat utilisateur).</li>
                                <li>Utilisez `sessionStorage` pour des donn√©es qui ne sont pertinentes que pour la
                                    session en cours.</li>
                                <li>Pour les applications complexes, envisagez une librairie de gestion d'√©tat comme
                                    Pinia ou Redux, qui offrent plus de contr√¥le et de lisibilit√©.</li>
                            </ul>
                        </div>
                    </div>
                </section>
            </main>

            <div id="footer"></div>
        </div>
    </div>

    <script type="module" src="/src/components/footer.js"></script>
    <script type="module" src="/src/components/navbar.js"></script>
</body>

</html>